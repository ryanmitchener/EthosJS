window.EthosJS=window.ejs={},EthosJS.matches=function(){var t=null;return void 0!==document.body.matches?t="matches":void 0!==document.body.webkitMatches?t="webkitMatches":void 0!==document.body.msMatchesSelector&&(t="msMatchesSelector"),function(i,e){return i[t](e)}}(),EthosJS.parent=function(t,i,e){for(e=e-1||-1,t=t.parentElement;null!==t&&!EthosJS.matches(t,i);){if(0===e)return null;t=t.parentElement,e--}return t},EthosJS.arrayMin=function(t){if(t.length<=2e3)return Math.min.apply(Math,t);for(var i=t[0],e=0,n=t.length;e<n;e++)i=Math.min(i);return i},EthosJS.arrayMax=function(t){if(t.length<=2e3)return Math.max.apply(Math,t);for(var i=t[0],e=0,n=t.length;e<n;e++)i=Math.max(i);return i},EthosJS.copy=function(t,i){function e(t,n){for(var s=i?Object.getOwnPropertyNames(n):Object.keys(n),o=0,r=s.length;o<r;o++){var a=Object.getOwnPropertyDescriptor(n,s[o]);if(a.value&&"object"==typeof a.value){var h=Array.isArray(n[s[o]])?[]:Object.create(i?Object.getPrototypeOf(n[s[o]]):{});t[s[o]]=e(h,n[s[o]])}else Object.defineProperty(t,s[o],a)}return t}return i=void 0===i||i,dst=Object.create(Object.getPrototypeOf(t)),e(dst,t)},EthosJS.Animation=function(t,i,e){this.curve=t||new EthosJS.CubicBezier(1,1,1,1),this.duration=i||500,this.renderCallback=e||null,this.onFinishListener=null,this.iterations=1,this.start=null,this.end=null,this.state=EthosJS.Animation.STATE_IDLE,this.startFrom=0,this.iterationsRemaining=this.iterations},EthosJS.Animation.STATE_IDLE=0,EthosJS.Animation.STATE_PLAYING=1,EthosJS.Animation.STATE_PAUSED=2,EthosJS.Animation.STATE_FINISHED=3,EthosJS.Animation.prototype.setCurve=function(t){return this.curve=t,this},EthosJS.Animation.prototype.setFrames=function(t){return this.frames=t,this},EthosJS.Animation.prototype.setIterations=function(t){return this.iterations=t,this.iterationsRemaining=this.iterations,this},EthosJS.Animation.prototype.setDuration=function(t){return this.duration=t,this},EthosJS.Animation.prototype.setRenderCallback=function(t){return this.renderCallback=t,this},EthosJS.Animation.prototype.setOnFinishListener=function(t){return this.onFinishListener=t,this},EthosJS.Animation.prototype.play=function(){return this.state===EthosJS.Animation.STATE_PAUSED?this.start=(new Date).getTime()-this.startFrom:this.start=(new Date).getTime(),this.state=EthosJS.Animation.STATE_PLAYING,this.end=this.start+this.duration,this._render(),this},EthosJS.Animation.prototype.pause=function(){return this.startFrom=(new Date).getTime()-this.start,this.state=EthosJS.Animation.STATE_PAUSED,this},EthosJS.Animation.prototype.reset=function(t){return t=void 0===t||t,this.start=null,this.end=null,this.state=EthosJS.Animation.STATE_IDLE,this.startFrom=0,t&&(this.iterationsRemaining=this.iterations),this},EthosJS.Animation.prototype._render=function(){if(this.state!==EthosJS.Animation.STATE_PAUSED){var t=(new Date).getTime()-this.start,i=Math.min(1,t/this.duration),e=this.curve.solve(i,EthosJS.CubicBezier.solveEpsilon(this.duration));return null!==this.renderCallback&&this.renderCallback.call(this,e),t>=this.duration?(this.iterationsRemaining-=this.iterationsRemaining>0?1:0,0===this.iterationsRemaining?(this.state=EthosJS.Animation.STATE_FINISHED,void(null!==this.onFinishListener&&this.onFinishListener())):(this.reset(!1),void this.play())):void requestAnimationFrame(this._render.bind(this))}},function(){for(var t=0,i=null,e=["ms","moz","webkit","o"],n=0,s=e.length;n<s&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var s=(new Date).getTime(),o=Math.max(0,16-(s-t));return i=window.setTimeout(function(){e(s+o)},o),t=s+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),EthosJS.isMobile=/Android|iPad|iPhone|iPod/i.test(navigator.userAgent),function(){EthosJS.isMobile?document.body.classList.add("ethos-js--mobile"):document.body.classList.add("ethos-js--desktop")}(),EthosJS.CubicBezier=function(t,i,e,n){this.cx=3*t,this.bx=3*(e-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(n-i)-this.cy,this.ay=1-this.cy-this.by,this.m_startGradient,this.m_endGradient,t>0?this.m_startGradient=i/t:!i&&e>0?this.m_startGradient=n/e:this.m_startGradient=0,e<1?this.m_endGradient=(n-1)/(e-1):1==e&&t<1?this.m_endGradient=(i-1)/(t-1):this.m_endGradient=0},EthosJS.CubicBezier.solveEpsilon=function(t){return 1/(200*t)},EthosJS.CubicBezier.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},EthosJS.CubicBezier.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},EthosJS.CubicBezier.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},EthosJS.CubicBezier.prototype.solveCurveX=function(t,i){var e,n,s,o,r,a;for(s=t,a=0;a<8;a++){if(o=this.sampleCurveX(s)-t,Math.abs(o)<i)return s;if(r=this.sampleCurveDerivativeX(s),Math.abs(r)<1e-6)break;s-=o/r}for(e=0,n=1,s=t;e<n;){if(o=this.sampleCurveX(s),Math.abs(o-t)<i)return s;t>o?e=s:n=s,s=.5*(n-e)+e}return s},EthosJS.CubicBezier.prototype.solve=function(t,i){return t<0?0+this.m_startGradient*t:t>1?1+this.m_endGradient*(t-1):this.sampleCurveY(this.solveCurveX(t,i))},function(){function t(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),e}return"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,void(window.CustomEvent=t))}(),EthosJS.throttleEvent=function(t,i,e){e=e||window;var n=!1,s=function(){n||(n=!0,requestAnimationFrame(function(){e.dispatchEvent(new CustomEvent(i)),n=!1}))};e.addEventListener(t,s)},EthosJS.dispatchEvent=function(t,i,e){var e=void 0===e?null:{detail:e};t.dispatchEvent(new CustomEvent(i,e))},EthosJS.transform=function(){return void 0!==document.body.style.transform?"transform":void 0!==document.body.style.webkitTransform?"webkitTransform":void 0!==document.body.style.msTransform?"msTransform":"transform"}();